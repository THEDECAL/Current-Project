@model EasyBilling.Models.Pocos.AccessRight
@using EasyBilling.Helpers
@inject Microsoft.AspNetCore.Identity.RoleManager<EasyBilling.Models.Pocos.Role> roleManager
@inject EasyBilling.Data.BillingDbContext dbContext

<input asp-for="Id" type="hidden" class="form-control" />

<div class="form-group">
    <label asp-for="Controller.Name" class="text-info"></label>
    <select class="mt-2 custom-select form-control" asp-for="Controller.Name">
        @foreach (var item in dbContext.ControllersNames.ToArray())
        {
            <option value="@item.Name" selected="@(Model.Controller != null && item.Name.Equals(Model.Controller.Name))">
                @item.LocalizedName
            </option>
        }
    </select>
    <span asp-validation-for="Controller.Name" class="text-danger"></span>
</div>

<div class="mb-0 form-group">
    <label asp-for="Role" class="text-info"></label>
    <select class="mt-2 custom-select form-control" asp-for="Role.Name">
        @foreach (var item in roleManager.Roles.ToArray())
        {
            <option value="@item.Name" selected="@(Model.Role.Name != null && Model.Role.Name.Equals(item.Name))">
                @item.LocalizedName
            </option>
        }
    </select>
    <span asp-validation-for="Role" class="text-danger"></span>
</div>

<div class="form-group">
    <div class="switch">
        <label class="form-check-label">
            Запрещено
        </label>
        <label class="form-check-label">
            @{
                string chk = (Model.IsAvailable) ? "checked" : "";
                <input class="form-control" type="checkbox" asp-for="IsAvailable" chk />
            }
            Разрешено
        </label>
        <span asp-validation-for="IsAvailable" class="text-danger"></span>
    </div>
</div>